FROM ubuntu:22.04

ENV DEBIAN_FRONTEND=noninteractive

RUN apt update && apt install -y \
    software-properties-common \
    gnupg2 curl wget lsb-release \
    python3-pip python3-dev python3-setuptools \
    sudo

# ğŸ“¦ æ­£ã—ã„ PPA ã®è¿½åŠ 
RUN add-apt-repository -y ppa:named-data/ppa && \
    apt update && \
    apt install -y \
      nfd \
      nlsr \
      ndn-tools \
      libndn-cxx \
      libndn-cxx-dev

# Pythonéƒ¨åˆ†
COPY ./requirements.txt /requirements.txt
RUN pip3 install --no-cache-dir -r /requirements.txt
RUN pip3 install python-ndn

COPY ./src /src
WORKDIR /src

# ğŸ”§ ãƒ‡ãƒãƒƒã‚°ç”¨ã« sidecar ã‚’èµ·å‹•ã›ãšã€bash ã‹ sleep ã«ã™ã‚‹
#CMD ["sleep", "3600"]

#ä»¥ä¸‹å…ƒã‚³ãƒ¼ãƒ‰
CMD [ "executable" ]["python3", "sidecar.py"]
